<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer by Md Tarek</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #1e3c72, #2a5298);
            color: white;
        }
        .container {
            width: 100%;
            max-width: 400px;
            margin: auto;
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.2);
        }
        header {
            background: #ff9800;
            color: white;
            padding: 10px;
            border-radius: 10px 10px 0 0;
        }
        .earn-btn, .option-btn {
            width: 100%;
            background: linear-gradient(45deg, #6a11cb, #2575fc);
            color: white;
            padding: 12px;
            border: none;
            border-radius: 25px;
            font-size: 18px;
            margin-top: 10px;
            cursor: pointer;
            transition: 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }
        .earn-btn::before, .option-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, rgba(0, 0, 0, 0.3), transparent);
            transition: 0.5s ease;
        }
        .earn-btn:hover::before, .option-btn:hover::before {
            left: 100%;
        }
        .earn-btn:hover, .option-btn:hover {
            background: linear-gradient(45deg, #2575fc, #6a11cb);
            transform: scale(1.05);
        }
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            padding: 10px;
            background: rgba(0, 0, 0, 0.2);
            border-top: 2px solid #ddd;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
        }
        .bottom-nav button {
            background: none;
            border: none;
            padding: 10px;
            font-size: 18px;
            color: white;
            cursor: pointer;
            transition: 0.3s ease;
        }
        .bottom-nav button:hover {
            color: #ff9800;
            transform: scale(1.1);
        }
        .page {
            display: block;
            padding: 20px;
        }
        .hidden {
            display: none;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        #monetag-ad {
            width: 100%;
            height: 250px;
            background-color: white;
            text-align: center;
            line-height: 250px;
            margin-top: 20px;
            border-radius: 5px;
            color: black;
        }
        .box-system {
            margin-top: 20px;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-align: center;
        }
        .box-system h3 {
            margin-bottom: 10px;
        }
        .box-system progress {
            width: 100%;
            height: 20px;
            border-radius: 10px;
        }
        .box-system button {
            margin-top: 10px;
        }
        .profile-picture {
            width: 100px;
            height: 100px;
            border-radius: 50%;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Welcome to <span id="botName">EarnBot</span></h1>
            <p>Developed by Md Tarek Islam</p>
        </header>
        <!-- Home Page -->
        <section id="home" class="page">
            <button class="earn-btn" onclick="watchAds()">üé• Watch Ads</button>
            <button class="earn-btn" onclick="directAds()">üé• Direct Ads</button>
            <div id="monetag-ad">
                <script src='//whephiwums.com/sdk.js' data-zone='8949918' data-sdk='show_8949918'></script>
                <script src='//whephiwums.com/sdk.js' data-zone='8949919' data-sdk='show_8949919'></script>
            </div>
            <div class="box-system">
                <h3>Unlock Box: Watch 50 Ads</h3>
                <progress id="boxProgress" value="0" max="50"></progress>
                <p id="boxStatus">Ads Watched: 0/50</p>
                <button class="earn-btn" id="unlockBoxBtn" disabled onclick="unlockBox()">üéÅ Unlock Box</button>
                <p class="reward-text">Unlock Step-by-Step Rewards! üéÅ Start with $0.1, progress to $1, and finally claim $5! üí∏üò≤ Keep watching ads to unlock bigger rewards!</p>
            </div>
        </section>
        <!-- Earn Page -->
        <section id="earn" class="page hidden">
            <h2>Earn</h2>
            <button class="option-btn" onclick="window.open('https://youtube.com/@itb-24s?si=NvBiNlt46mV6teHC', '_blank')">üì∫ Subscribe to YouTube Channel</button>
            <button class="option-btn" onclick="window.open('https://t.me/freeincomTipsBangla', '_blank')">üí¨ Join Telegram Channel</button>
            <button class="option-btn" onclick="showPage('withdraw')">üí≥ Withdraw</button>
        </section>
        <!-- Withdraw Page -->
        <section id="withdraw" class="page hidden">
            <h2>Withdraw</h2>
            <p>Minimum Withdrawal: <strong> 5 USD</strong></p>
            <label>Withdrawal Method</label>
            <select id="withdrawMethod">
                <option value="Binance">Binance</option>
                <option value="Tonkepar">Tonkepar</option>
            </select>
            <label>Amount</label>
            <input type="number" id="withdrawAmount" placeholder="Enter amount">
            <label>Withdrawal Address</label>
            <input type="text" id="withdrawAddress" placeholder="Enter wallet address">
            <button class="earn-btn" onclick="submitWithdraw()">Submit Withdrawal</button>
            <p id="withdrawMessage" style="color: red;"></p>
        </section>
        <!-- Profile Page -->
        <section id="profile" class="page hidden">
            <h2>Profile</h2>
            <div class="profile-picture-container">
                <img id="profilePicture" src="https://via.placeholder.com/100" alt="Profile Picture" class="profile-picture">
                <div class="profile-upload">
                    <input type="file" id="uploadProfile" accept="image/*" onchange="uploadProfilePicture(event)">
                    <label for="uploadProfile">Upload Picture</label>
                </div>
            </div>
            <label>Username</label>
            <input type="text" id="usernameInput" placeholder="Enter your username">
            <button class="earn-btn" onclick="saveUsername()">üíæ Save Username</button>
            <p>Name: <strong id="userName">Guest</strong></p>
            <p>Balance: <strong id="balance">$0</strong></p>
            <p>Total Tasks: <strong id="taskCount">0</strong></p>
            <p>Completed Tasks: <strong id="completedTasks">0</strong></p>
            <p>Daily Ads: <strong id="dailyAds">0/50</strong></p>
            <p>Referral Count: <strong id="referralCount">0</strong></p>
            <button class="earn-btn" onclick="copyReferralLink()">üìã Copy Link</button>
            <button class="option-btn" onclick="shareReferral()">üì¢ Share</button>
        </section>
        <nav class="bottom-nav">
            <button onclick="showPage('home')">üè† Home</button>
            <button onclick="showPage('earn')">üí∞ Earn</button>
            <button onclick="showPage('withdraw')">üí≥ Withdraw</button>
            <button onclick="showPage('profile')">üë§ Profile</button>
        </nav>
    </div>
    <script>
        const dailyLimit = 50;
        let balance = parseFloat(localStorage.getItem("balance")) || 0;
        let adsToday = parseInt(localStorage.getItem("adsToday")) || 0;
        let adsWatched = parseInt(localStorage.getItem("adsWatched")) || 0;
        let profilePicture = localStorage.getItem("profilePicture") || "https://via.placeholder.com/100";
        let username = localStorage.getItem("username") || "Guest";
        let adWindow;
        let adTimer;
        let isAdRunning = false;

        // Initialize the page
        document.addEventListener("DOMContentLoaded", function () {
            checkDateReset();
            document.getElementById("balance").innerText = `$${balance.toFixed(2)}`;
            document.getElementById("dailyAds").innerText = `${adsToday}/${dailyLimit}`;
            document.getElementById("boxStatus").innerText = `Ads Watched: ${adsWatched}/50`;
            document.getElementById("boxProgress").value = adsWatched;
            document.getElementById("profilePicture").src = profilePicture;
            document.getElementById("userName").innerText = username;
        });

        // Save Username
        function saveUsername() {
            const usernameInput = document.getElementById("usernameInput").value;
            if (usernameInput.trim() === "") {
                alert("Please enter a valid username.");
                return;
            }
            username = usernameInput;
            localStorage.setItem("username", username);
            document.getElementById("userName").innerText = username;
            alert("Username saved successfully!");
        }

        // Show specific page
        function showPage(pageId) {
            const pages = document.querySelectorAll(".page");
            pages.forEach(page => {
                page.classList.add("hidden");
            });
            document.getElementById(pageId).classList.remove("hidden");
        }

        // Watch Ads function
        function watchAds() {
            if (isAdRunning) {
                alert("‚ùå An ad is already running. Please wait!");
                return;
            }

            if (adsToday >= dailyLimit) {
                alert("‚ùå You have reached your daily limit of 50 ads!");
                return;
            }

            adWindow = window.open('https://www.effectiveratecpm.com/stx0112wf?key=28ded444cff716a44e43d7a635df079c', '_blank');

            if (!adWindow || adWindow.closed) {
                alert("‚ùå Please allow pop-ups to watch ads!");
                return;
            }

            setTimeout(() => {
                if (adWindow && !adWindow.closed) {
                    isAdRunning = true;
                    startAdTimer();
                } else {
                    alert("‚ùå Ad failed to open or was closed!");
                    clearTimeout(adTimer);
                    adWindow = null;
                }
            }, 3000);
        }

        // Start the ad timer
        function startAdTimer() {
            if (!adWindow || adWindow.closed) {
                alert("‚ùå Please allow pop-ups to watch ads!");
                isAdRunning = false;
                return;
            }

            adTimer = setTimeout(() => {
                if (adWindow && !adWindow.closed) {
                    alert(`‚úÖ ${username}, you watched the ad, but no money will be given! Only the ad count is updated.`);
                    countAd();
                    adWindow.close();
                } else {
                    alert("‚ùå You did not complete watching the ad!");
                }
                isAdRunning = false;
            }, 9000);  // 9 seconds for the ad
        }

        // Count the ad
        function countAd() {
            adsToday++;
            adsWatched++;

            localStorage.setItem("adsToday", adsToday);
            localStorage.setItem("adsWatched", adsWatched);
            document.getElementById("dailyAds").innerText = `${adsToday}/${dailyLimit}`;
            document.getElementById("boxStatus").innerText = `Ads Watched: ${adsWatched}/50`;

            updateBoxProgress();
        }

        // Update the box progress
        function updateBoxProgress() {
            let progress = document.getElementById("boxProgress");
            progress.value = adsWatched;
            document.getElementById("boxStatus").innerText = `Ads Watched: ${adsWatched}/50`;

            if (adsWatched >= 50) {
                document.getElementById("unlockBoxBtn").disabled = false;
            }
        }

        // Unlock the box
        function unlockBox() {
            balance += 0.1;
            localStorage.setItem("balance", balance);
            document.getElementById("balance").innerText = `$${balance.toFixed(2)}`;
            alert(`üéÅ ${username}, you unlocked the box and earned $0.1!`);
            adsWatched = 0;
            localStorage.setItem("adsWatched", adsWatched);
            updateBoxProgress();
        }

        // Direct Ads function (not implemented)
        function directAds() {
            alert("Direct Ads functionality is not implemented yet.");
        }

        // Submit withdrawal request
        function submitWithdraw() {
            const method = document.getElementById("withdrawMethod").value;
            const amount = parseFloat(document.getElementById("withdrawAmount").value);
            const address = document.getElementById("withdrawAddress").value;

            if (amount < 5) {
                document.getElementById("withdrawMessage").innerText = "Minimum withdrawal amount is 5 USD.";
                return;
            }

            if (!address) {
                document.getElementById("withdrawMessage").innerText = "Please enter a valid wallet address.";
                return;
            }

            if (balance < amount) {
                document.getElementById("withdrawMessage").innerText = "Insufficient balance.";
                return;
            }

            balance -= amount;
            localStorage.setItem("balance", balance);
            document.getElementById("balance").innerText = `$${balance.toFixed(2)}`;

            alert(`${username}, your withdrawal request submitted:\nMethod: ${method}\nAmount: ${amount} USD\nAddress: ${address}`);
            document.getElementById("withdrawMessage").innerText = "Withdrawal request submitted successfully!";
        }

        // Upload profile picture
        function uploadProfilePicture(event) {
            const file = event.target.files[0];
            if (file) {
                if (file.size > 2 * 1024 * 1024) {
                    alert("File size should be less than 2MB.");
                    return;
                }
                const reader = new FileReader();
                reader.onload = function (e) {
                    document.getElementById("profilePicture").src = e.target.result;
                    localStorage.setItem("profilePicture", e.target.result);
                };
                reader.readAsDataURL(file);
            }
        }

        // Copy referral link
        function copyReferralLink() {
            const referralLink = "https://t.me/@Monetagddbot";
            navigator.clipboard.writeText(referralLink).then(() => {
                alert(`${username}, your referral link copied to clipboard!`);
            });
        }

        // Share referral link
        function shareReferral() {
            const referralLink = "https://t.me/ Monetagddbot";
            if (navigator.share) {
                navigator.share({
                    title: 'Referral Link',
                    text: `Hey, check out this referral link from ${username}!`,
                    url: referralLink,
                }).then(() => {
                    alert("Referral link shared successfully!");
                });
            } else {
                alert("Web Share API is not supported in your browser. Please copy the link manually.");
                copyReferralLink();
            }
        }
    </script>
</body>
</html>